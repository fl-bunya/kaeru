# Kaeru - Bun実装

Yahoo乗換案内から「新富町(東京都) → 上福岡」のルート情報を取得するBun実装です。

## セットアップ

```sh
bun install
```

## 開発

```sh
bun run dev
```

## ビルド

### 本番用ビルド（minify済み）
```sh
bun run build
```
Bun向けにトランスパイルし、minifyして出力します。

### 開発用ビルド（minifyなし）
```sh
bun run build:dev
```
Bun向けにトランスパイルして出力します（デバッグ用）。

### 本番環境用バイナリ（compile）
```sh
bun run compile
```
Bunネイティブにコンパイルし、単一の実行可能バイナリを作成します。

## 実行

### JavaScriptファイルの実行
```sh
bun run start
```

### バイナリファイルの実行
```sh
bun run start:binary
```

## ファイルサイズ比較

- **開発用ビルド**: 519KB
- **本番用ビルド（minify）**: 1.1MB
- **バンドル版**: 326KB
- **コンパイル版バイナリ**: 53MB

## 注意事項

- 本番用ビルドは依存関係を含むため、ファイルサイズが大きくなります
- 開発用ビルドはデバッグしやすい形式で出力されます
- バンドル版は最小サイズですが、Bun環境での実行が必要です
- ビルド済みファイルはBunで実行することを推奨します（Node.jsでも動作しますが、Bunの方が高速です）
- ビルドコマンドはBun向けに最適化されており、`--target node`オプションを削除してBunネイティブのトランスパイルを使用しています
- **コンパイル版バイナリ**: 単一の実行可能ファイルで、Bunランタイム不要。配布用に最適化されています

